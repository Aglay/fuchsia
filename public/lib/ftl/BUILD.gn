# Copyright 2016 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

static_library("ftl") {
  sources = [
    "arraysize.h",
    "debug/debugger.cc",
    "debug/debugger.h",
    "logging.cc",
    "logging.h",
    "macros.h",
    "memory/make_unique.h",
    "memory/ref_counted_internal.h",
    "memory/ref_counted.h",
    "memory/ref_ptr_internal.h",
    "memory/ref_ptr.h",
    "memory/weak_ptr_internal.cc",
    "memory/weak_ptr_internal.h",
    "memory/weak_ptr.h",
    "strings/string_number_conversions.cc",
    "strings/string_number_conversions.h",
    "strings/string_printf.cc",
    "strings/string_printf.h",
    "strings/utf_codecs.cc",
    "strings/utf_codecs.h",
    "time/time.cc",
    "time/time.h",
  ]
}

executable("ftl_unittests") {
  sources = [
    "arraysize_unittest.cc",
    "memory/ref_counted_unittest.cc",
    "memory/weak_ptr_unittest.cc",
    "strings/string_number_conversions_unittest.cc",
    "strings/string_printf_unittest.cc",
    "test/run_all_unittests.cc",
    "time/time_unittest.cc",
  ]

  deps = [
    ":ftl",
    "//third_party/gtest",
  ]
}
