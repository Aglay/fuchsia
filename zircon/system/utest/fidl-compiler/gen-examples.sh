#!/bin/bash
# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

set -eufo pipefail

readonly output=$1
shift

exec > "$output"

cat <<EOF
// Autogenerated: Do not modify!

#include "examples.h"

std::map<std::string, std::string> Examples::map_ = {
EOF

for file; do
  printf '    {"%s", R"FIDL(' "$file"
  cat "$file"
  printf ')FIDL"},'
done

echo '};'
