// Copyright 2019 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

library fuchsia.hardware.pty;

using zx;

[Layout = "Simple"]
protocol Device {
    // Open a client PTY device with a unique |id|. |client| should be a handle
    // to one endpoint of a channel that (on success) will become an open
    // connection to the newly created device. On failure, the channel will be
    // closed. Closing the channel will close the connection and release the
    // device. If the provided |id| is 0, then the new client is a controlling
    // client and has the capability to open additional clients. If the
    // current device is not a controlling client, ZX_ERR_ACCESS_DENIED will be
    // returned. If |id| is not unique, ZX_ERR_INVALID_ARGS will be returned.
    // Otherwise the status code from |device_add| is passed on.
    OpenClient(uint32 id, handle<channel> client) -> (zx.status s);
};
