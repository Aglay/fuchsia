# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

test("arm-isp") {
  sources = [
    "dma-format.cpp",
    "dma-mgr.cpp",
  ]
  deps = [
    "$zx/system/dev/camera/arm-isp:isp-common",
    "$zx/system/dev/lib/fake-bti",
    "$zx/system/dev/lib/mmio",
    "$zx/system/fidl/fuchsia-camera-common:c",
    "$zx/system/fidl/fuchsia-sysmem:c",
    "$zx/system/ulib/ddk",
    "$zx/system/ulib/fbl",
    "$zx/system/ulib/fdio",
    "$zx/system/ulib/fit",
    "$zx/system/ulib/hwreg",
    "$zx/system/ulib/zx",
    "$zx/system/ulib/zxtest",
  ]
  configs += [ "$zx/public/gn/config:static-libc++" ]
}

test("arm-isp-on-device") {
  sources = [
    "isp.cpp",
  ]
  deps = [
    "$zx/system/fidl/fuchsia-camera-common:c",
    "$zx/system/fidl/fuchsia-camera-test:c",
    "$zx/system/fidl/fuchsia-sysinfo:c",
    "$zx/system/ulib/ddk",
    "$zx/system/ulib/devmgr-integration-test",
    "$zx/system/ulib/driver-integration-test",
    "$zx/system/ulib/fbl",
    "$zx/system/ulib/fdio",
    "$zx/system/ulib/zx",
    "$zx/system/ulib/zxtest",
  ]
  configs += [ "$zx/public/gn/config:static-libc++" ]
}
