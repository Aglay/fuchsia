# Copyright 2020 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/unification/images/common_test_contents.gni")

group("tests") {
  testonly = true
  deps = [
    "//sdk/lib/fdio/test:fdio-bootfs-test",
    "//sdk/lib/fdio/test/constructors:fdio-constructor-bootfs-test",
    "//src/bringup/bin/console:bootfs-test",
    "//src/bringup/bin/netsvc:netsvc-stress-test-bootfs-test",
    "//src/bringup/bin/netsvc:netsvc-test-bootfs-test",
    "//src/bringup/bin/ptysvc:ptysvc-test-bootfs-test",
    "//src/bringup/bin/svchost:crashsvc-test-bootfs-test",
    "//src/bringup/bin/sysinfo:sysinfo-test",  # This is a package.
    "//src/bringup/tests/bootfs_test",  # This is a package.
    "//src/devices/block/bin/biotime:biotime-test-bootfs-test",
    "//src/devices/block/drivers/ftl/test:ftl-integration-package",  # HW-required.
    "//src/devices/bus/lib/device-protocol-pdev/test:device-protocol-pdev-test-bootfs-test",
    "//src/devices/nand/drivers/broker/test:nand-broker-package",  # HW-required.
    "//src/devices/nand/drivers/ram-nand:ram-nand-test-bootfs-test",
    "//src/devices/sysmem/tests/sysmem:sysmem-bootfs-test",

    # The devcoordinator-namespace-test assumes the root filesystem and can't be
    # migrated as packages are given their own local filesystem.
    "//src/devices/tests/devcoordinator-namespace:devcoordinator-namespace-package",
    "//src/devices/tests/devfs:devfs-bootfs-test",
    "//src/devices/thermal/drivers/mtk-thermal:mtk-thermal-integration-test-package",  # HW-required.
    "//src/devices/usb/tests/usb:usb-package",  # HW-required.
    "//src/media/audio/drivers/intel-hda/test:intel-hda-test-package",  # HW-required.
    "//src/media/audio/drivers/intel-hda/test:pixelbook-eve-test-package",  # HW-required.
    "//src/media/audio/tools/audio-driver-ctl:test-bootfs-test",
    "//src/ui/backlight/drivers/sg-micro:sgm37603a-test-bootfs-test",
    "//src/ui/backlight/drivers/ti-lp8556:ti-lp8556-test-bootfs-test",
    "//src/ui/backlight/tests:backlight-test-bootfs-test",
    "//src/zircon/tests/entropy:entropy-package",
    "//src/zircon/tests/events:events-package",
    "//src/zircon/tests/exception:exception-package",
    "//src/zircon/tests/futex-ownership:futex-ownership-bootfs-test",
    "//src/zircon/tests/handle-alias:handle-alias-package",
    "//src/zircon/tests/job-policy:policy-package",
    "//src/zircon/tests/kcounter:kcounter-bootfs-test",
    "//src/zircon/tests/kernel-clocks:kernel-clocks-package",
    "//src/zircon/tests/kernel-cmdline:kernel-cmdline-package",
    "//src/zircon/tests/processor:processor-package",
    "//src/zircon/tests/profile:profile-package",
    "//src/zircon/tests/property:property-package",
    "//src/zircon/tests/register-state:register-state-package",
    "//src/zircon/tests/status:status-package",
    "//src/zircon/tests/thread-initial-state:thread-initial-state-package",
    "//src/zircon/tests/thread-state:thread-state-package",
    "//src/zircon/tests/time:time-bootfs-test",
    "//src/zircon/tests/timers:timers-package",
    "//src/zircon/tests/vdso:vdso-base-package",
    "//src/zircon/tests/vdso:vdso-package",
    "//src/zircon/tests/vdso:vdso-variant-bootfs-test",
    "//src/zircon/tests/vmo:vmo-package",
    "//zircon/system/ulib/abr/test:libabr-test-bootfs-test",
    "//zircon/system/ulib/abs_clock/test:abs-clock-test-package",
    "//zircon/system/ulib/affine/test:affine-package",
    "//zircon/system/ulib/async-loop/test:async-loop-package",
    "//zircon/system/ulib/async-testing/test:async-testing-package",
    "//zircon/system/ulib/async/test:async-package",
    "//zircon/system/ulib/backtrace-request/test:backtrace-request-integration-package",
    "//zircon/system/ulib/backtrace-request/test:backtrace-request-package",
    "//zircon/system/ulib/bitmap/test:bitmap-package",
    "//zircon/system/ulib/block-client/test:block-client-unit-bootfs-test",
    "//zircon/system/ulib/bootfs/test:bootfs-test-package",
    "//zircon/system/ulib/c/test:atexit-bootfs-test",
    "//zircon/system/ulib/c/test:debugdata-bootfs-test",
    "//zircon/system/ulib/c/test:posix-clocks-bootfs-test",
    "//zircon/system/ulib/c/test/sanitizer:sanitizer-utils-bootfs-test",
    "//zircon/system/ulib/chromeos-disk-setup/test:chromeos-disk-setup-package",
    "//zircon/system/ulib/closure-queue/test:closure-queue-package",
    "//zircon/system/ulib/cobalt-client/test:cobalt-client-unit-package",
    "//zircon/system/ulib/debugdata/test:debugdata-package",
    "//zircon/system/ulib/digest/test:digest-package",
    "//zircon/system/ulib/disk_inspector/test:disk_inspector_unit-bootfs-test",
    "//zircon/system/ulib/driver-unit-test/test:logger-unit-package",
    "//zircon/system/ulib/elf-search/test:elf-search-bootfs-test",
    "//zircon/system/ulib/fbl/test:fbl-package",
    "//zircon/system/ulib/fdio-caller/test:fdio-caller-package",
    "//zircon/system/ulib/ffl/test:ffl-package",
    "//zircon/system/ulib/fidl-async/test:fidl-async-test-bootfs-test",
    "//zircon/system/ulib/fit/test:fit-bootfs-test",
    "//zircon/system/ulib/fit/test:fit-unittest-package",
    "//zircon/system/ulib/framebuffer/test:framebuffer-test-package",
    "//zircon/system/ulib/fs-pty/test:libfs-pty-test-package",
    "//zircon/system/ulib/fs/journal/test:journal-unit-bootfs-test",
    "//zircon/system/ulib/fs/metrics/test:metrics-cobalt-bootfs-test",
    "//zircon/system/ulib/fs/metrics/test:metrics-composite-latency-event-bootfs-test",
    "//zircon/system/ulib/fs/metrics/test:metrics-inspect-bootfs-test",
    "//zircon/system/ulib/fs/test:fs-connection-package",
    "//zircon/system/ulib/fs/test:fs-vnode-package",
    "//zircon/system/ulib/fs/test_support/test:fs_test_support-bootfs-test",
    "//zircon/system/ulib/fs/transaction/test:fs-transaction-package",
    "//zircon/system/ulib/fs/watchdog/test:watchdog-unit-bootfs-test",
    "//zircon/system/ulib/ftl/test:ftl_test-bootfs-test",
    "//zircon/system/ulib/fvm/test:fvm-unit-package",
    "//zircon/system/ulib/fzl/test:fzl-package",
    "//zircon/system/ulib/fzl/test:fzl-zxtest-package",
    "//zircon/system/ulib/gpt/test:gpt-unit-package",
    "//zircon/system/ulib/hid-parser/test:hid-parser-package",
    "//zircon/system/ulib/hwreg/test:libhwreg-i2c-package",
    "//zircon/system/ulib/hwreg/test:libhwreg-package",
    "//zircon/system/ulib/id_allocator/test:id-allocator-package",
    "//zircon/system/ulib/image-format/test:image-format-test-package",
    "//zircon/system/ulib/inet6/test:inet6-test-package",
    "//zircon/system/ulib/inspect/test:inspect-bootfs-test",
    "//zircon/system/ulib/intel-hda/test:intel-hda-utils-test-package",
    "//zircon/system/ulib/io-scheduler/test:io-scheduler-test-bootfs-test",
    "//zircon/system/ulib/kernel-mexec/test:kernel-mexec-test-package",
    "//zircon/system/ulib/ktrace/test:ktrace-test-package",
    "//zircon/system/ulib/launchpad/test:launchpad-package",
    "//zircon/system/ulib/lazy_init/test:lazy_init-test-bootfs-test",
    "//zircon/system/ulib/lockdep/test:lockdep-test-package",
    "//zircon/system/ulib/memfs/test:memfs-tests-package",
    "//zircon/system/ulib/minfs/allocator/test:minfs-allocator-unit-bootfs-test",
    "//zircon/system/ulib/minfs/test:minfs-integration-bootfs-test",
    "//zircon/system/ulib/minfs/test:minfs-power-bootfs-test",
    "//zircon/system/ulib/minfs/test:minfs-unit-bootfs-test",
    "//zircon/system/ulib/mipi-dsi/test:mipidsi-package",
    "//zircon/system/ulib/mmio-ptr/test:mmio-ptr-unittest-package",
    "//zircon/system/ulib/mock-function/test:mock-function-test-bootfs-test",
    "//zircon/system/ulib/perftest/test:perftest-bootfs-test",
    "//zircon/system/ulib/pretty/test:pretty-test-package",
    "//zircon/system/ulib/ram-crashlog/test:ram-crashlog-package",
    "//zircon/system/ulib/range/test:range-bootfs-test",
    "//zircon/system/ulib/refcount/test:refcount-test-package",
    "//zircon/system/ulib/region-alloc/test:region-alloc-package",
    "//zircon/system/ulib/runtests-utils/test:service-proxy-dir-package",
    "//zircon/system/ulib/simplehid/test:simplehid-package",
    "//zircon/system/ulib/smbios/test:smbios-test-package",
    "//zircon/system/ulib/storage-metrics/test:storage-metrics-bootfs-test",
    "//zircon/system/ulib/storage/buffer/test:storage_buffer-bootfs-test",
    "//zircon/system/ulib/storage/operation/test:storage_operation-bootfs-test",
    "//zircon/system/ulib/sysconfig-client/test:sysconfig-sync-client-test-bootfs-test",
    "//zircon/system/ulib/syslog/test:syslog-package",
    "//zircon/system/ulib/syslog/test:syslog-static-package",
    "//zircon/system/ulib/sysmem-make-tracking/test:sysmem-make-tracking-test-package",
    "//zircon/system/ulib/sysmem-version/test:sysmem-version-test-package",
    "//zircon/system/ulib/test-exceptions/test:test-exceptions-package",
    "//zircon/system/ulib/test-utils/test:test-utils-package",
    "//zircon/system/ulib/tftp/test:tftp-test-bootfs-test",
    "//zircon/system/ulib/trace-reader/test:trace-reader-test-package",
    "//zircon/system/ulib/trace-vthread/test:trace-vthread-test-package",
    "//zircon/system/ulib/trace-vthread/test:trace-vthread-with-static-engine-test-package",
    "//zircon/system/ulib/uart/test:uart-unittests-bootfs-test",
    "//zircon/system/ulib/unittest/test:unittest-bootfs-test",
    "//zircon/system/ulib/utf_conversion/test:utf-conversion-package",
    "//zircon/system/ulib/zbi-bootfs/test:zbi-bootfs-test-bootfs-test",
    "//zircon/system/ulib/zbi/test:zbi-bootfs-test",
    "//zircon/system/ulib/zbitl/test",
    "//zircon/system/ulib/zircon-crypto/test:zircon-crypto-package",
    "//zircon/system/ulib/zx-panic-libc/test:zx-panic-libc-test-package",
    "//zircon/system/ulib/zx/test:zx-package",
    "//zircon/system/ulib/zxio/test:zxio-package",
    "//zircon/system/ulib/zxtest/test:zxtest-package",
    "//zircon/system/ulib/zxtest/test/integration:zxtest-integration-package",
    "//zircon/system/utest/blobfs-bench:blobfs-bench-package",
    "//zircon/system/utest/channel-fatal:channel-fatal-package",
    "//zircon/system/utest/cleanup:cleanup-package",
    "//zircon/system/utest/cmdline:cmdline-package",
    "//zircon/system/utest/compiler:compiler-package",
    "//zircon/system/utest/core-display:core-display-package",
    "//zircon/system/utest/cprng:cprng-package",
    "//zircon/system/utest/ctor:ctor-package",
    "//zircon/system/utest/debugger:debugger-package",
    "//zircon/system/utest/device-enumeration:device-enumeration-package",
    "//zircon/system/utest/dlfcn:dlfcn-bootfs-test",
    "//zircon/system/utest/dlopen-indirect-deps:dlopen-indirect-deps-package",
    "//zircon/system/utest/errno:errno-package",
    "//zircon/system/utest/exit:exit-package",
    "//zircon/system/utest/fidl-utils:fidl-utils-package",
    "//zircon/system/utest/fpu:fpu-package",
    "//zircon/system/utest/fs-bench:fs-bench-bootfs-test",
    "//zircon/system/utest/fs-management:fs-management-bootfs-test",
    "//zircon/system/utest/fs-test-utils:fs-test-utils-bootfs-test",
    "//zircon/system/utest/getentropy:getentropy-package",
    "//zircon/system/utest/inspector:inspector-package",
    "//zircon/system/utest/int-types:int-types-package",
    "//zircon/system/utest/kernel-unittests:kernel-unittests-package",
    "//zircon/system/utest/log:log-bootfs-test",
    "//zircon/system/utest/logger:logger-package",
    "//zircon/system/utest/memfs:memfs-bootfs-test",
    "//zircon/system/utest/minfs-micro-benchmark:minfs-micro-benchmark-bootfs-test",
    "//zircon/system/utest/miscsvc:miscsvc-package",
    "//zircon/system/utest/namespace:namespace-package",
    "//zircon/system/utest/posixio:posixio-package",
    "//zircon/system/utest/psutils:handles-package",
    "//zircon/system/utest/psutils:ps-package",
    "//zircon/system/utest/pty:pty-package",
    "//zircon/system/utest/qsort:qsort-package",
    "//zircon/system/utest/race-tests:race-tests-package",
    "//zircon/system/utest/service:service-llcpp-test-bootfs-test",
    "//zircon/system/utest/stdio:stdio-test-package",
    "//zircon/system/utest/svchost:svchost-package",
    "//zircon/system/utest/syscall-generation:syscall-generation-package",
    "//zircon/system/utest/sysconf:sysconf-package",
    "//zircon/system/utest/task-utils:task-utils-package",
    "//zircon/system/utest/thread-safe-deleter:thread-safe-deleter-package",
    "//zircon/system/utest/trace:trace-bootfs-test",
    "//zircon/system/utest/trace:trace-static-engine-bootfs-test",
    "//zircon/system/utest/utc-procargs:utc-procargs-bootfs-test",
    "//zircon/third_party/ulib/linenoise/test:linenoise-test-bootfs-test",
  ]

  # The following targets contribute tests to the zbi.
  deps += [ "//build/unification/future/images:legacy_tests" ] +
          common_test_contents
}
